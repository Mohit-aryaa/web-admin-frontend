"use strict";(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[537],{3537:(X,u,r)=>{r.r(u),r.d(u,{VendorModule:()=>$});var p=r(8583),d=r(3679),m=r(1494),c=r(2789),e=r(7716),x=r(1841),T=r(9517),C=r(5494),g=r(7001),h=r(1095),_=r(6627),f=r(9692),Z=r(4885);let A=(()=>{class o{transform(t,...i){return 1==t?"Active":"In Active"}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"vendorPipe",type:o,pure:!0}),o})();const V=["content"],b=["Paginator"];function k(o,s){1&o&&(e.TgZ(0,"div",23),e._UZ(1,"mat-spinner",24),e.qZA())}function D(o,s){1&o&&(e.TgZ(0,"div",25),e._uU(1," No Records Found! "),e.qZA())}function y(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"th",37),e.TgZ(1,"div",38),e.TgZ(2,"input",39),e.NdJ("click",function(n){return e.CHM(t),e.oxw(2).checkAllDeleteItems(n)}),e.qZA(),e.qZA(),e.qZA()}}function S(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"td",40),e.TgZ(1,"div",41),e.TgZ(2,"input",42),e.NdJ("click",function(){const n=e.CHM(t),l=n.$implicit,a=n.index;return e.oxw(2).getDeleteItems(l,a)}),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=s.$implicit;e.xp6(2),e.s9C("id",t._id)}}function N(o,s){1&o&&(e.TgZ(0,"th",37),e._uU(1," Name"),e.qZA())}function q(o,s){if(1&o&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Oqu(t.name)}}function I(o,s){1&o&&(e.TgZ(0,"th",37),e._uU(1," Status"),e.qZA())}function U(o,s){if(1&o&&(e.TgZ(0,"td",40),e._uU(1),e.ALo(2,"vendorPipe"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t.status))}}function P(o,s){1&o&&(e.TgZ(0,"th",43),e._uU(1," Action "),e.qZA())}function B(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"td",44),e.TgZ(1,"button",45),e.NdJ("click",function(){const n=e.CHM(t),l=n.$implicit,a=n.index;return e.oxw(2).openUpdateModal(l,a)}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA(),e.qZA(),e.TgZ(4,"button",46),e.NdJ("click",function(){const n=e.CHM(t),l=n.$implicit,a=n.index;return e.oxw(2).deleteVendors(l,a)}),e.TgZ(5,"mat-icon"),e._uU(6,"delete"),e.qZA(),e.qZA(),e.qZA()}}function J(o,s){1&o&&e._UZ(0,"tr",47)}function F(o,s){1&o&&e._UZ(0,"tr",48)}function Y(o,s){if(1&o&&(e.TgZ(0,"table",26),e.ynx(1,27),e.YNc(2,y,3,0,"th",28),e.YNc(3,S,3,1,"td",29),e.BQk(),e.ynx(4,30),e.YNc(5,N,2,0,"th",28),e.YNc(6,q,2,1,"td",29),e.BQk(),e.ynx(7,31),e.YNc(8,I,2,0,"th",28),e.YNc(9,U,3,3,"td",29),e.BQk(),e.ynx(10,32),e.YNc(11,P,2,0,"th",33),e.YNc(12,B,7,0,"td",34),e.BQk(),e.YNc(13,J,1,0,"tr",35),e.YNc(14,F,1,0,"tr",36),e.qZA()),2&o){const t=e.oxw();e.Q6J("dataSource",t.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",t.displayedColumnsOne),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumnsOne)}}function M(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",49),e.TgZ(1,"h4",50),e._uU(2),e.qZA(),e.TgZ(3,"button",51),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",52),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",53),e.TgZ(7,"form",54),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().postData()}),e.TgZ(8,"div",7),e.TgZ(9,"div",55),e.TgZ(10,"label",56),e._uU(11," Name"),e.qZA(),e._UZ(12,"input",57),e.qZA(),e.TgZ(13,"div",55),e.TgZ(14,"label",56),e._uU(15," Status"),e.qZA(),e.TgZ(16,"select",58),e.TgZ(17,"option",59),e._uU(18,"Select"),e.qZA(),e.TgZ(19,"option",60),e._uU(20,"Active"),e.qZA(),e.TgZ(21,"option",61),e._uU(22,"In Active"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",62),e.TgZ(24,"button",63),e._uU(25),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",64),e.TgZ(27,"button",65),e.NdJ("click",function(){return e.CHM(t).$implicit.close("Save click")}),e._uU(28,"Close"),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(2),e.hij("",t.seletedVendor?"Update":"Add"," Data"),e.xp6(5),e.Q6J("formGroup",t.vendorsForm),e.xp6(5),e.Q6J("formControlName","name"),e.xp6(4),e.Q6J("formControlName","status"),e.xp6(9),e.Oqu(t.seletedVendor?"Update":"Add")}}const w=function(){return[5,10,20,30,50,100]};let H=(()=>{class o{constructor(t,i,n,l,a){this.http=t,this.modalService=i,this._formBuilder=n,this.vendorsService=l,this._snackBar=a,this.dataSource=new c.by,this.loading=!1,this.tablePaging={offset:0,limit:20,previousSize:0},this.setBulkDeleteItems=[],this.displayedColumnsOne=["check","name","status","action"]}ngOnInit(){this.vendorsForm=this._formBuilder.group({name:["",[d.kI.required]],status:["",[d.kI.required]]}),this.getData()}ngAfterViewInit(){this.getData()}checkAllDeleteItems(t){var i=document.getElementsByClassName("deleteChecks");if(t.target.checked)for(let n=0;n<i.length;n++){let l=i[n];l.checked=!0;let a=l.getAttribute("id");console.log(l),this.setBulkDeleteItems.push(a)}else for(let n=0;n<i.length;n++){let l=i[n];l.checked=!1,console.log(l),this.setBulkDeleteItems=[]}}getDeleteItems(t,i){document.getElementById("deleteAll").checked=!1,document.getElementById(t._id).checked?this.setBulkDeleteItems.push(t._id):this.setBulkDeleteItems.splice(i,1),console.log(this.setBulkDeleteItems)}BulkDelete(){void 0!==typeof this.setBulkDeleteItems&&this.setBulkDeleteItems.length>0?confirm("Are you sure to delete ?")&&this.vendorsService.bulkDelete(this.setBulkDeleteItems).subscribe(t=>{console.log("response",t),document.getElementById("deleteAll").checked=!1,this._snackBar.open(t.message,"",{duration:2e3,verticalPosition:"top"}),this.getNextData()},t=>{console.log(t)}):this._snackBar.open("No product selected","",{duration:2e3,verticalPosition:"top"})}getData(){this.vendorsService.getVendors({params:this.tablePaging}).subscribe(t=>{this.loading=!1,this.Vendors=t.Vendors,console.log("this.users",this.Vendors),this.Vendors.length=t.total,this.dataSource=new c.by(this.Vendors),this.dataSource.paginator=this.Paginator})}getNextData(){this.loading=!0,this.userDataPromise&&this.userDataPromise.unsubscribe(),this.userDataPromise=this.vendorsService.getVendors({params:this.tablePaging}).subscribe(t=>{this.loading=!1,console.log(t.Vendors),this.Vendors.length=this.tablePaging.previousSize,this.Vendors.push(...t.Vendors),this.Vendors.length=t.total,this.dataSource=new c.by(this.Vendors),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.Paginator})}pageChanged(t){this.tablePaging.limit=t.pageSize,this.tablePaging.offset=t.pageIndex.toString(),this.tablePaging.previousSize=t.pageSize*t.pageIndex,this.getNextData()}applyCategoryFilter(t){console.log("this.tablePaging",this.tablePaging);var i=t.trim().toLowerCase();this.userDataPromise=this.vendorsService.filterVendors(i).subscribe(n=>{this.loading=!1,this.Vendors=n.Vendors,console.log("this.Products",this.Vendors),this.Vendors.length=n.total,this.dataSource=new c.by(this.Vendors),this.dataSource.paginator=this.Paginator})}openModal(t=null){this.selectedVendor=t,this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title"}).result.then(i=>{},i=>{this.vendorsForm.reset()})}openUpdateModal(t){console.log(t),this.openModal(t._id),this.vendorsForm.patchValue(t)}postData(){if(this.vendorsForm.markAllAsTouched(),this.vendorsForm.invalid)return console.log("this.vendors",this.vendorsForm.value),!1;this.selectedVendor?this.vendorsService.updateVendors(this.selectedVendor,this.vendorsForm.value).subscribe(t=>{this.modalService.dismissAll(),this.vendorsForm.reset(),console.log(this.Vendors.length),this.getNextData()},t=>{console.log(t)}):this.vendorsService.addVendors(this.vendorsForm.value).subscribe(t=>{console.log(t),this.modalService.dismissAll(),this.vendorsForm.reset(),console.log(this.Vendors.length),this.getNextData()},t=>{console.log(t)})}deleteVendors(t){confirm("Are you sure to delete ?")&&this.vendorsService.deleteVendors(t).subscribe(i=>{this.getNextData()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.eN),e.Y36(T.FF),e.Y36(d.qu),e.Y36(C.n),e.Y36(g.ux))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-vendor"]],viewQuery:function(t,i){if(1&t&&(e.Gf(V,5),e.Gf(m.YE,5),e.Gf(b,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.content=n.first),e.iGM(n=e.CRH())&&(i.sort=n.first),e.iGM(n=e.CRH())&&(i.Paginator=n.first)}},decls:29,vars:7,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","p-6","sm:p-10"],[1,"row","mb-3"],[1,"col-md-6"],[1,"col-md-6","text-end"],["mat-raised-button","","color","primary",3,"click"],[1,"me-2"],[1,"row"],[1,"mat-elevation-z8","shadow-sm","p-3","w-100","bg-white"],[1,"d-flex","px-3","py-4"],[1,"col-6"],[2,"cursor","pointer",3,"click"],[1,"form-group","d-flex"],["mat-raised-button","","color","warn",1,"ms-auto","me-2",3,"click"],["type","text","placeholder","Search",1,"form-control","bg-light","sortInput","rounded-pill",2,"max-width","268px",3,"keyup"],["categoryInput",""],["class","d-flex justify-content-center",4,"ngIf","ngIfElse"],["class","text-center",4,"ngIf"],["table",""],["aria-label","Select page",3,"pageIndex","pageSize","pageSizeOptions","page"],["Paginator",""],["class","bd-example-modal-lg"],["content",""],[1,"d-flex","justify-content-center"],[1,"progress-spinner"],[1,"text-center"],["mat-table","","matSort","",1,"",2,"width","100%",3,"dataSource"],["matColumnDef","check"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],[1,"form-group"],["type","checkbox","id","deleteAll","value","",1,"form-check-input",3,"click"],["mat-cell",""],[1,"form-check"],["type","checkbox","value","",1,"form-check-input","deleteChecks",3,"id","click"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"px-4",3,"formGroup","ngSubmit"],[1,"form-group","mb-3","col-12"],["for","",1,"mb-1"],["type","text","id","name","name","name","placeholder","John doe",1,"form-control",3,"formControlName"],["aria-label","Default select example",1,"form-select",3,"formControlName"],["value","","selected","","disabled",""],["value","true"],["value","false"],[1,"form-group","mb-3"],["type","submit",1,"btn","btn-primary"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"button",5),e.NdJ("click",function(){return i.openModal()}),e.TgZ(6,"mat-icon",6),e._uU(7,"add"),e.qZA(),e._uU(8," Add Products"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",7),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e.TgZ(13,"mat-icon",11),e.NdJ("click",function(){return i.getNextData()}),e._uU(14,"autorenew"),e.qZA(),e.qZA(),e.TgZ(15,"div",10),e.TgZ(16,"div",12),e.TgZ(17,"button",13),e.NdJ("click",function(){return i.BulkDelete()}),e._uU(18,"Bulk Delete"),e.qZA(),e.TgZ(19,"input",14,15),e.NdJ("keyup",function(){e.CHM(n);const a=e.MAs(20);return i.applyCategoryFilter(a.value)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(21,k,2,0,"div",16),e.YNc(22,D,2,0,"div",17),e.YNc(23,Y,15,3,"ng-template",null,18,e.W1O),e.TgZ(25,"mat-paginator",19,20),e.NdJ("page",function(a){return i.pageChanged(a)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(27,M,29,5,"ng-template",21,22,e.W1O),e.qZA()}if(2&t){const n=e.MAs(24);e.xp6(21),e.Q6J("ngIf",i.loading)("ngIfElse",n),e.xp6(1),e.Q6J("ngIf",0===i.dataSource.data.length),e.xp6(3),e.Q6J("pageIndex",0)("pageSize",i.tablePaging.limit)("pageSizeOptions",e.DdM(6,w))}},directives:[h.lW,_.Hw,p.O5,f.NW,Z.$g,c.BZ,m.YE,c.w1,c.fO,c.Dz,c.as,c.nj,c.ge,c.ev,c.XQ,c.Gk,d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u,d.EJ,d.YN,d.Kr],pipes:[A],styles:[".mat-simple-snackbar{justify-content:center!important}"]}),o})();var Q=r(3423),z=r(171),E=r(8295),O=r(9983),j=r(8550),G=r(3771),R=r(4466);let $=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.ez,Q.Bz.forChild([{path:"",component:H}]),R.m,c.p0,h.ot,_.Ps,f.TU,m.JX,d.u5,d.UX,z.To,E.lN,O.c,G.T,j.xD,Z.Cq,g.ZX]]}),o})()}}]);