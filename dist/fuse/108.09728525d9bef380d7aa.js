"use strict";(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[108],{9108:(lt,r,s)=>{s.r(r),s.d(r,{BundleProductsModule:()=>nt});var m=s(8583),d=s(1494),u=s(2789),t=s(7716),B=s(1841),p=s(7001),x=s(1466),g=s(3423),_=s(1095),h=s(6627),f=s(9692),P=s(4885);let C=(()=>{class e{transform(n,...i){var l=[];console.log(n);for(let c=0;c<n.length;c++)l.push(n[c].productName),this.result=l.toString().replace(/,[s]*/g,", ");return this.result}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"bundleProductPipe",type:e,pure:!0}),e})();const T=["content"],v=["Paginator"];function A(e,o){1&e&&(t.TgZ(0,"div",23),t._UZ(1,"mat-spinner",24),t.qZA())}function k(e,o){1&e&&(t.TgZ(0,"div",25),t._uU(1," No Records Found! "),t.qZA())}function y(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"th",42),t.TgZ(1,"input",43),t.NdJ("click",function(l){return t.CHM(n),t.oxw(2).checkAllDeleteItems(l)}),t.qZA(),t.qZA()}}function b(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",44),t.TgZ(1,"div",45),t.TgZ(2,"input",46),t.NdJ("click",function(){const l=t.CHM(n),c=l.$implicit,a=l.index;return t.oxw(2).getDeleteItems(c,a)}),t.qZA(),t.qZA(),t.qZA()}if(2&e){const n=o.$implicit;t.xp6(2),t.s9C("id",n._id)}}function D(e,o){1&e&&(t.TgZ(0,"th",42),t._uU(1," Image"),t.qZA())}function N(e,o){if(1&e&&(t.TgZ(0,"td",44),t._UZ(1,"img",47),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.MGl("src","http://localhost:3000/",n.productImages[0],"",t.LSH)}}function S(e,o){1&e&&(t.TgZ(0,"th",42),t._uU(1," Name"),t.qZA())}function I(e,o){if(1&e&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.productName)}}function q(e,o){1&e&&(t.TgZ(0,"th",42),t._uU(1," Sku"),t.qZA())}function Y(e,o){if(1&e&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.productCode)}}function U(e,o){1&e&&(t.TgZ(0,"th",42),t._uU(1," Category"),t.qZA())}function w(e,o){if(1&e&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.productCategory.categoryName)}}function Q(e,o){1&e&&(t.TgZ(0,"th",42),t._uU(1," Brand"),t.qZA())}function M(e,o){if(1&e&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.productBrand.brandName)}}function z(e,o){1&e&&(t.TgZ(0,"th",42),t._uU(1," Products"),t.qZA())}function J(e,o){if(1&e&&(t.TgZ(0,"td",44),t._uU(1),t.ALo(2,"bundleProductPipe"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,n.products))}}function O(e,o){1&e&&(t.TgZ(0,"th",42),t._uU(1," price"),t.qZA())}function E(e,o){if(1&e&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.price)}}function H(e,o){1&e&&(t.TgZ(0,"th",48),t._uU(1," Action "),t.qZA())}function $(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",49),t.TgZ(1,"a",50),t.TgZ(2,"button",51),t.TgZ(3,"mat-icon"),t._uU(4,"edit"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"button",52),t.NdJ("click",function(){const l=t.CHM(n),c=l.$implicit,a=l.index;return t.oxw(2).deleteBundleProduct(c,a)}),t.TgZ(6,"mat-icon"),t._uU(7,"delete"),t.qZA(),t.qZA(),t.qZA()}if(2&e){const n=o.$implicit;t.xp6(1),t.MGl("routerLink","/edit-bundle-product/",n._id,"")}}function F(e,o){1&e&&t._UZ(0,"tr",53)}function R(e,o){1&e&&t._UZ(0,"tr",54)}function G(e,o){if(1&e&&(t.TgZ(0,"table",26),t.ynx(1,27),t.YNc(2,y,2,0,"th",28),t.YNc(3,b,3,1,"td",29),t.BQk(),t.ynx(4,30),t.YNc(5,D,2,0,"th",28),t.YNc(6,N,2,1,"td",29),t.BQk(),t.ynx(7,31),t.YNc(8,S,2,0,"th",28),t.YNc(9,I,2,1,"td",29),t.BQk(),t.ynx(10,32),t.YNc(11,q,2,0,"th",28),t.YNc(12,Y,2,1,"td",29),t.BQk(),t.ynx(13,33),t.YNc(14,U,2,0,"th",28),t.YNc(15,w,2,1,"td",29),t.BQk(),t.ynx(16,34),t.YNc(17,Q,2,0,"th",28),t.YNc(18,M,2,1,"td",29),t.BQk(),t.ynx(19,35),t.YNc(20,z,2,0,"th",28),t.YNc(21,J,3,3,"td",29),t.BQk(),t.ynx(22,36),t.YNc(23,O,2,0,"th",28),t.YNc(24,E,2,1,"td",29),t.BQk(),t.ynx(25,37),t.YNc(26,H,2,0,"th",38),t.YNc(27,$,8,1,"td",39),t.BQk(),t.YNc(28,F,1,0,"tr",40),t.YNc(29,R,1,0,"tr",41),t.qZA()),2&e){const n=t.oxw();t.Q6J("dataSource",n.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",n.displayedColumnsOne),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumnsOne)}}const j=function(){return[5,10,20,30,50,100]};let L=(()=>{class e{constructor(n,i,l){this.http=n,this._snackBar=i,this.bundleProductsService=l,this.dataSource=new u.by,this.loading=!1,this.tablePaging={offset:0,limit:20,previousSize:0},this.vendorsList=[],this.setBulkDeleteItems=[],this.displayedColumnsOne=["check","name","image","productCode","category","brand","products","price","action"]}ngOnInit(){}ngAfterViewInit(){this.getData()}checkAllDeleteItems(n){var i=document.getElementsByClassName("deleteChecks");if(n.target.checked)for(let l=0;l<i.length;l++){let c=i[l];c.checked=!0;let a=c.getAttribute("id");console.log(c),this.setBulkDeleteItems.push(a)}else for(let l=0;l<i.length;l++){let c=i[l];c.checked=!1,console.log(c),this.setBulkDeleteItems=[]}}getDeleteItems(n,i){document.getElementById("deleteAll").checked=!1,document.getElementById(n._id).checked?this.setBulkDeleteItems.push(n._id):this.setBulkDeleteItems.splice(i,1),console.log(this.setBulkDeleteItems)}BulkDelete(){void 0!==typeof this.setBulkDeleteItems&&this.setBulkDeleteItems.length>0?this.bundleProductsService.bulkDelete(this.setBulkDeleteItems).subscribe(n=>{console.log("response",n),document.getElementById("deleteAll").checked=!1,this._snackBar.open(n.message,"",{duration:2e3,verticalPosition:"top"}),this.getNextData()},n=>{console.log(n)}):this._snackBar.open("No product selected","",{duration:2e3,verticalPosition:"top"})}getData(){this.bundleProductsService.getBundleProducts({params:this.tablePaging}).subscribe(n=>{console.log("getdata",n),this.loading=!1,this.BundleProducts=n.BundleProducts,console.log("this.users",this.BundleProducts),this.BundleProducts.length=n.total,this.dataSource=new u.by(this.BundleProducts),this.dataSource.paginator=this.Paginator})}getNextData(){this.loading=!0,this.userDataPromise&&this.userDataPromise.unsubscribe(),this.userDataPromise=this.bundleProductsService.getBundleProducts({params:this.tablePaging}).subscribe(n=>{this.loading=!1,console.log(n.BundleProducts),this.BundleProducts.length=this.tablePaging.previousSize,this.BundleProducts.push(...n.BundleProducts),this.BundleProducts.length=n.total,this.dataSource=new u.by(this.BundleProducts),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.Paginator})}pageChanged(n){this.tablePaging.limit=n.pageSize,this.tablePaging.offset=n.pageIndex.toString(),this.tablePaging.previousSize=n.pageSize*n.pageIndex,this.getNextData()}applyProductFilter(n){console.log("this.tablePaging",this.tablePaging);var i=n.trim().toLowerCase();this.userDataPromise=this.bundleProductsService.filterBundleProducts(i).subscribe(l=>{this.loading=!1,this.BundleProducts=l.BundleProducts,console.log("this.Products",this.BundleProducts),this.BundleProducts.length=l.total,this.dataSource=new u.by(this.BundleProducts),this.dataSource.paginator=this.Paginator})}deleteBundleProduct(n){confirm("Are you sure to delete ?")&&this.bundleProductsService.deleteBundleProducts(n).subscribe(i=>{this.getData()})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(B.eN),t.Y36(p.ux),t.Y36(x.Q))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-bundle-products"]],viewQuery:function(n,i){if(1&n&&(t.Gf(T,5),t.Gf(d.YE,5),t.Gf(v,5)),2&n){let l;t.iGM(l=t.CRH())&&(i.content=l.first),t.iGM(l=t.CRH())&&(i.sort=l.first),t.iGM(l=t.CRH())&&(i.Paginator=l.first)}},decls:28,vars:7,consts:[[1,"flex","flex-col","flex-auto","min-w-0",2,"max-height","90vh","overflow-y","scroll"],[1,"flex-auto","p-6","sm:p-10"],[1,"row","mb-3"],[1,"col-md-6"],[1,"col-md-6","text-end"],["routerLink","/add-bundle-product"],["mat-raised-button","","color","primary"],[1,"me-2"],[1,"row"],[1,"mat-elevation-z8","shadow-sm","p-3","w-100","bg-white"],[1,"d-flex","px-3","py-4"],[1,"col-6","d-flex"],[2,"cursor","pointer",3,"click"],[1,"col-6"],[1,"form-group","d-flex"],["mat-raised-button","","color","warn",1,"ms-auto","me-2",3,"click"],["type","text","placeholder","Search",1,"form-control","bg-light","sortInput","rounded-pill",2,"max-width","268px",3,"keyup"],["productInput",""],["class","d-flex justify-content-center",4,"ngIf","ngIfElse"],["class","text-center",4,"ngIf"],["table",""],["aria-label","Select page",3,"pageIndex","pageSize","pageSizeOptions","page"],["Paginator",""],[1,"d-flex","justify-content-center"],[1,"progress-spinner"],[1,"text-center"],["mat-table","","matSort","",1,"",2,"width","100%",3,"dataSource"],["matColumnDef","check"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","image"],["matColumnDef","name"],["matColumnDef","productCode"],["matColumnDef","category"],["matColumnDef","brand"],["matColumnDef","products"],["matColumnDef","price"],["matColumnDef","action"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["type","checkbox","id","deleteAll","value","",1,"form-check-input",3,"click"],["mat-cell",""],[1,"form-check"],["type","checkbox","value","",1,"form-check-input","deleteChecks",3,"id","click"],["alt","",1,"w-100","py-2",2,"max-width","70px",3,"src"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],[2,"text-decoration","none",3,"routerLink"],["mat-icon-button",""],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,i){if(1&n){const l=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"a",5),t.TgZ(6,"button",6),t.TgZ(7,"mat-icon",7),t._uU(8,"add"),t.qZA(),t._uU(9," Add Bundle Products"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",8),t.TgZ(11,"div",9),t.TgZ(12,"div",10),t.TgZ(13,"div",11),t.TgZ(14,"mat-icon",12),t.NdJ("click",function(){return i.getNextData()}),t._uU(15,"autorenew"),t.qZA(),t.qZA(),t.TgZ(16,"div",13),t.TgZ(17,"div",14),t.TgZ(18,"button",15),t.NdJ("click",function(){return i.BulkDelete()}),t._uU(19,"Bulk Delete"),t.qZA(),t.TgZ(20,"input",16,17),t.NdJ("keyup",function(){t.CHM(l);const a=t.MAs(21);return i.applyProductFilter(a.value)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(22,A,2,0,"div",18),t.YNc(23,k,2,0,"div",19),t.YNc(24,G,30,3,"ng-template",null,20,t.W1O),t.TgZ(26,"mat-paginator",21,22),t.NdJ("page",function(a){return i.pageChanged(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const l=t.MAs(25);t.xp6(22),t.Q6J("ngIf",i.loading)("ngIfElse",l),t.xp6(1),t.Q6J("ngIf",0===i.dataSource.data.length),t.xp6(3),t.Q6J("pageIndex",0)("pageSize",i.tablePaging.limit)("pageSizeOptions",t.DdM(6,j))}},directives:[g.yS,_.lW,h.Hw,m.O5,f.NW,P.$g,u.BZ,d.YE,u.w1,u.fO,u.Dz,u.as,u.nj,u.ge,u.ev,u.XQ,u.Gk],pipes:[C],styles:[".mat-simple-snackbar{justify-content:center!important}"]}),e})();var Z=s(3679),X=s(171),W=s(8295),V=s(9983),K=s(8550),tt=s(3771),et=s(4466);let nt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.ez,g.Bz.forChild([{path:"",component:L}]),et.m,u.p0,_.ot,h.Ps,f.TU,d.JX,Z.u5,Z.UX,X.To,W.lN,V.c,tt.T,K.xD,P.Cq,p.ZX]]}),e})()}}]);