"use strict";(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[738],{4738:(X,p,l)=>{l.r(p),l.d(p,{BrandModule:()=>$});var u=l(8583),c=l(3679),m=l(1494),d=l(2789),t=l(7716),B=l(1841),x=l(9517),C=l(2490),g=l(7001),h=l(1095),_=l(6627),f=l(9692),Z=l(4885);const v=["content"],T=["Paginator"];function A(n,s){1&n&&(t.TgZ(0,"div",23),t._UZ(1,"mat-spinner",24),t.qZA())}function k(n,s){1&n&&(t.TgZ(0,"div",25),t._uU(1," No Records Found! "),t.qZA())}function D(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"th",37),t.TgZ(1,"input",38),t.NdJ("click",function(a){return t.CHM(e),t.oxw(2).checkAllDeleteItems(a)}),t.qZA(),t.qZA()}}function y(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"td",39),t.TgZ(1,"div",40),t.TgZ(2,"input",41),t.NdJ("click",function(){const a=t.CHM(e),i=a.$implicit,r=a.index;return t.oxw(2).getDeleteItems(i,r)}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=s.$implicit;t.xp6(2),t.s9C("id",e._id)}}function N(n,s){1&n&&(t.TgZ(0,"th",37),t._uU(1," Name"),t.qZA())}function S(n,s){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Oqu(e.brandName)}}function I(n,s){1&n&&(t.TgZ(0,"th",37),t._uU(1," Description"),t.qZA())}function q(n,s){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Oqu(e.brandDescription)}}function U(n,s){1&n&&(t.TgZ(0,"th",42),t._uU(1," Action "),t.qZA())}function J(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"td",43),t.TgZ(1,"button",44),t.NdJ("click",function(){const a=t.CHM(e),i=a.$implicit,r=a.index;return t.oxw(2).openUpdateModal(i,r)}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA(),t.qZA(),t.TgZ(4,"button",45),t.NdJ("click",function(){const a=t.CHM(e),i=a.$implicit,r=a.index;return t.oxw(2).deleteBrand(i,r)}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA(),t.qZA(),t.qZA()}}function P(n,s){1&n&&t._UZ(0,"tr",46)}function F(n,s){1&n&&t._UZ(0,"tr",47)}function M(n,s){if(1&n&&(t.TgZ(0,"table",26),t.ynx(1,27),t.YNc(2,D,2,0,"th",28),t.YNc(3,y,3,1,"td",29),t.BQk(),t.ynx(4,30),t.YNc(5,N,2,0,"th",28),t.YNc(6,S,2,1,"td",29),t.BQk(),t.ynx(7,31),t.YNc(8,I,2,0,"th",28),t.YNc(9,q,2,1,"td",29),t.BQk(),t.ynx(10,32),t.YNc(11,U,2,0,"th",33),t.YNc(12,J,7,0,"td",34),t.BQk(),t.YNc(13,P,1,0,"tr",35),t.YNc(14,F,1,0,"tr",36),t.qZA()),2&n){const e=t.oxw();t.Q6J("dataSource",e.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",e.displayedColumnsOne),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumnsOne)}}function Y(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",48),t.TgZ(1,"h4",49),t._uU(2),t.qZA(),t.TgZ(3,"button",50),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.TgZ(4,"span",51),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",52),t.TgZ(7,"form",53),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().postData()}),t.TgZ(8,"div",7),t.TgZ(9,"div",54),t.TgZ(10,"label",55),t._uU(11," Name"),t.qZA(),t._UZ(12,"input",56),t.qZA(),t.TgZ(13,"div",54),t.TgZ(14,"label",55),t._uU(15," Description"),t.qZA(),t._UZ(16,"input",57),t.qZA(),t.qZA(),t.TgZ(17,"div",58),t.TgZ(18,"button",59),t._uU(19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",60),t.TgZ(21,"button",61),t.NdJ("click",function(){return t.CHM(e).$implicit.close("Save click")}),t._uU(22,"Close"),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.hij("",e.selectedBrand?"Update":"Add"," Brand"),t.xp6(5),t.Q6J("formGroup",e.brandsForm),t.xp6(12),t.hij("",e.selectedBrand?"Update":"Add"," Brand")}}const w=function(){return[5,10,20,30,50,100]};let H=(()=>{class n{constructor(e,o,a,i,r){this.http=e,this.modalService=o,this._formBuilder=a,this.brandsService=i,this._snackBar=r,this.dataSource=new d.by,this.loading=!1,this.tablePaging={offset:0,limit:20,previousSize:0},this.setBulkDeleteItems=[],this.displayedColumnsOne=["check","name","description","action"]}ngOnInit(){this.brandsForm=this._formBuilder.group({brandName:["",[c.kI.required]],brandDescription:["",[c.kI.required]]}),this.getData()}ngAfterViewInit(){this.getData()}checkAllDeleteItems(e){var o=document.getElementsByClassName("deleteChecks");if(e.target.checked)for(let a=0;a<o.length;a++){let i=o[a];i.checked=!0;let r=i.getAttribute("id");console.log(i),this.setBulkDeleteItems.push(r)}else for(let a=0;a<o.length;a++){let i=o[a];i.checked=!1,console.log(i),this.setBulkDeleteItems=[]}}getDeleteItems(e,o){document.getElementById("deleteAll").checked=!1,document.getElementById(e._id).checked?this.setBulkDeleteItems.push(e._id):this.setBulkDeleteItems.splice(o,1),console.log(this.setBulkDeleteItems)}BulkDelete(){void 0!==typeof this.setBulkDeleteItems&&this.setBulkDeleteItems.length>0?confirm("Are you sure to delete ?")&&this.brandsService.bulkDelete(this.setBulkDeleteItems).subscribe(e=>{console.log("response",e),document.getElementById("deleteAll").checked=!1,this._snackBar.open(e.message,"",{duration:2e3,verticalPosition:"top"}),this.getNextData()},e=>{console.log(e)}):this._snackBar.open("No product selected","",{duration:2e3,verticalPosition:"top"})}getData(){this.brandsService.getBrands({params:this.tablePaging}).subscribe(e=>{this.loading=!1,this.Brands=e.Brands,console.log("this.users",this.Brands),this.Brands.length=e.total,this.dataSource=new d.by(this.Brands),this.dataSource.paginator=this.Paginator})}getNextData(){this.loading=!0,this.userDataPromise&&this.userDataPromise.unsubscribe(),this.userDataPromise=this.brandsService.getBrands({params:this.tablePaging}).subscribe(e=>{this.loading=!1,console.log(e.Brands),this.Brands.length=this.tablePaging.previousSize,this.Brands.push(...e.Brands),this.Brands.length=e.total,this.dataSource=new d.by(this.Brands),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.Paginator})}pageChanged(e){this.tablePaging.limit=e.pageSize,this.tablePaging.offset=e.pageIndex.toString(),this.tablePaging.previousSize=e.pageSize*e.pageIndex,this.getNextData()}applyCategoryFilter(e){console.log("this.tablePaging",this.tablePaging);var o=e.trim().toLowerCase();this.userDataPromise=this.brandsService.filterBrands(o).subscribe(a=>{this.loading=!1,this.Brands=a.Brands,console.log("this.Products",this.Brands),this.Brands.length=a.total,this.dataSource=new d.by(this.Brands),this.dataSource.paginator=this.Paginator})}openModal(e=null){this.selectedBrand=e,this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{},o=>{this.brandsForm.reset()})}openUpdateModal(e){console.log(e),this.openModal(e._id),this.brandsForm.patchValue(e)}postData(){if(this.brandsForm.markAllAsTouched(),this.brandsForm.invalid)return console.log("this.subCategoriesForm",this.brandsForm.value),!1;this.selectedBrand?this.brandsService.updateBrands(this.selectedBrand,this.brandsForm.value).subscribe(e=>{this.modalService.dismissAll(),this.brandsForm.reset(),console.log(this.Brands.length),this.getNextData()},e=>{console.log(e)}):this.brandsService.addBrands(this.brandsForm.value).subscribe(e=>{console.log(e),this.modalService.dismissAll(),this.brandsForm.reset(),console.log(this.Brands.length),this.getNextData()},e=>{console.log(e)})}deleteBrand(e){confirm("Are you sure to delete ?")&&this.brandsService.deleteBrands(e).subscribe(o=>{this.getNextData()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(B.eN),t.Y36(x.FF),t.Y36(c.qu),t.Y36(C.c),t.Y36(g.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-brand"]],viewQuery:function(e,o){if(1&e&&(t.Gf(v,5),t.Gf(m.YE,5),t.Gf(T,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.content=a.first),t.iGM(a=t.CRH())&&(o.sort=a.first),t.iGM(a=t.CRH())&&(o.Paginator=a.first)}},decls:29,vars:7,consts:[[1,"flex","flex-col","flex-auto","min-w-0",2,"max-height","90vh","overflow-y","scroll"],[1,"flex-auto","p-6","sm:p-10"],[1,"row","mb-3"],[1,"col-md-6"],[1,"col-md-6","text-end"],["mat-raised-button","","color","primary",3,"click"],[1,"me-2"],[1,"row"],[1,"mat-elevation-z8","shadow-sm","p-3","w-100","bg-white"],[1,"d-flex","px-3","py-4"],[1,"col-6"],[2,"cursor","pointer",3,"click"],[1,"form-group","d-flex"],["mat-raised-button","","color","warn",1,"ms-auto","me-2",3,"click"],["type","text","placeholder","Search",1,"form-control","bg-light","sortInput","rounded-pill",2,"max-width","268px",3,"keyup"],["categoryInput",""],["class","d-flex justify-content-center",4,"ngIf","ngIfElse"],["class","text-center",4,"ngIf"],["table",""],["aria-label","Select page",3,"pageIndex","pageSize","pageSizeOptions","page"],["Paginator",""],["class","bd-example-modal-lg"],["content",""],[1,"d-flex","justify-content-center"],[1,"progress-spinner"],[1,"text-center"],["mat-table","","matSort","",1,"",2,"width","100%",3,"dataSource"],["matColumnDef","check"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","action"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["type","checkbox","id","deleteAll","value","",1,"form-check-input",3,"click"],["mat-cell",""],[1,"form-check"],["type","checkbox","value","",1,"form-check-input","deleteChecks",3,"id","click"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"px-4",3,"formGroup","ngSubmit"],[1,"form-group","mb-3","col-12"],["for","",1,"mb-1"],["type","text","id","brandName","name","brandName","formControlName","brandName","placeholder","John doe",1,"form-control"],["type","text","id","brandDescription","name","brandDescription","formControlName","brandDescription","placeholder","John doe",1,"form-control"],[1,"form-group","mb-3"],["type","submit",1,"btn","btn-primary"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"button",5),t.NdJ("click",function(){return o.openModal()}),t.TgZ(6,"mat-icon",6),t._uU(7,"add"),t.qZA(),t._uU(8," Add Products"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",7),t.TgZ(10,"div",8),t.TgZ(11,"div",9),t.TgZ(12,"div",10),t.TgZ(13,"mat-icon",11),t.NdJ("click",function(){return o.getNextData()}),t._uU(14,"autorenew"),t.qZA(),t.qZA(),t.TgZ(15,"div",10),t.TgZ(16,"div",12),t.TgZ(17,"button",13),t.NdJ("click",function(){return o.BulkDelete()}),t._uU(18,"Bulk Delete"),t.qZA(),t.TgZ(19,"input",14,15),t.NdJ("keyup",function(){t.CHM(a);const r=t.MAs(20);return o.applyCategoryFilter(r.value)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(21,A,2,0,"div",16),t.YNc(22,k,2,0,"div",17),t.YNc(23,M,15,3,"ng-template",null,18,t.W1O),t.TgZ(25,"mat-paginator",19,20),t.NdJ("page",function(r){return o.pageChanged(r)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(27,Y,23,3,"ng-template",21,22,t.W1O),t.qZA()}if(2&e){const a=t.MAs(24);t.xp6(21),t.Q6J("ngIf",o.loading)("ngIfElse",a),t.xp6(1),t.Q6J("ngIf",0===o.dataSource.data.length),t.xp6(3),t.Q6J("pageIndex",0)("pageSize",o.tablePaging.limit)("pageSizeOptions",t.DdM(6,w))}},directives:[h.lW,_.Hw,u.O5,f.NW,Z.$g,d.BZ,m.YE,d.w1,d.fO,d.Dz,d.as,d.nj,d.ge,d.ev,d.XQ,d.Gk,c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u],styles:[".mat-simple-snackbar{justify-content:center!important}"]}),n})();var z=l(3423),E=l(171),Q=l(8295),O=l(9983),j=l(8550),G=l(3771),R=l(4466);let $=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.ez,z.Bz.forChild([{path:"",component:H}]),R.m,d.p0,h.ot,_.Ps,f.TU,m.JX,c.u5,c.UX,E.To,Q.lN,O.c,G.T,j.xD,Z.Cq,g.ZX]]}),n})()}}]);